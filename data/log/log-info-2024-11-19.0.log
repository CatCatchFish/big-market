24-11-19.10:59:15.202 [main            ] INFO  Application            - Starting Application using Java 1.8.0_281 on catlap with PID 9596 (D:\IdeaWorkSpace\GagaPlus\big-market\big-market-app\target\classes started by Cat in D:\IdeaWorkSpace\GagaPlus\big-market)
24-11-19.10:59:15.204 [main            ] INFO  Application            - The following 1 profile is active: "dev"
24-11-19.10:59:16.641 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-11-19.10:59:16.645 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-11-19.10:59:16.692 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
24-11-19.10:59:17.887 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
24-11-19.10:59:17.889 [main            ] INFO  AprLifecycleListener   - Loaded Apache Tomcat Native library [1.2.33] using APR version [1.7.0].
24-11-19.10:59:17.889 [main            ] INFO  AprLifecycleListener   - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
24-11-19.10:59:17.889 [main            ] INFO  AprLifecycleListener   - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
24-11-19.10:59:17.894 [main            ] INFO  AprLifecycleListener   - OpenSSL successfully initialized [OpenSSL 1.1.1o  3 May 2022]
24-11-19.10:59:17.906 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-11-19.10:59:17.907 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-11-19.10:59:17.907 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
24-11-19.10:59:18.241 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-11-19.10:59:18.241 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2770 ms
24-11-19.10:59:19.248 [main            ] INFO  Version                - Redisson 3.23.4
24-11-19.10:59:19.925 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 192.168.136.129/192.168.136.129:6379
24-11-19.10:59:19.945 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 192.168.136.129/192.168.136.129:6379
24-11-19.10:59:20.100 [main            ] INFO  XxlJobAutoConfig       - >>>>>>>>>>> xxl-job config init.
24-11-19.10:59:20.929 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-11-19.10:59:20.953 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:updateStockHandler, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@5c573229[class cn.cat.trigger.job.UpdateAwardStockJob#exec]
24-11-19.10:59:21.050 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-11-19.10:59:21.062 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
24-11-19.10:59:21.074 [main            ] INFO  Application            - Started Application in 6.468 seconds (JVM running for 12.645)
24-11-19.10:59:21.080 [Thread-20       ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server start success, nettype = class com.xxl.job.core.server.EmbedServer, port = 9111
24-11-19.10:59:21.754 [RMI TCP Connection(4)-192.168.136.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-11-19.10:59:21.754 [RMI TCP Connection(4)-192.168.136.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-11-19.10:59:21.756 [RMI TCP Connection(4)-192.168.136.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
24-11-19.10:59:21.757 [RMI TCP Connection(3)-192.168.136.1] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-19.10:59:22.746 [RMI TCP Connection(3)-192.168.136.1] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-19.10:59:22.767 [RMI TCP Connection(3)-192.168.136.1] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-19.10:59:22.806 [RMI TCP Connection(3)-192.168.136.1] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-19.10:59:49.493 [http-nio-8091-exec-4] INFO  RaffleController       - 抽奖策略装配开始 strategyId：100006
24-11-19.10:59:49.549 [http-nio-8091-exec-4] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-19.10:59:49.597 [http-nio-8091-exec-4] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-19.10:59:49.915 [http-nio-8091-exec-4] INFO  RaffleController       - 抽奖策略装配结束 strategyId：100006 结果：{"code":"0000","data":true,"info":"成功"}
24-11-19.10:59:52.596 [http-nio-8091-exec-6] INFO  RaffleController       - 查询抽奖奖品列表配置开始 strategyId：100006
24-11-19.10:59:52.637 [http-nio-8091-exec-6] INFO  RaffleController       - 查询抽奖奖品列表配置完成 strategyId：100006 response: {"code":"0000","data":[{"awardId":101,"awardTitle":"随机积分","sort":1},{"awardId":102,"awardTitle":"7等奖","sort":2},{"awardId":103,"awardTitle":"6等奖","sort":3},{"awardId":104,"awardTitle":"5等奖","sort":4},{"awardId":105,"awardTitle":"4等奖","sort":5},{"awardId":106,"awardSubtitle":"抽奖1次后解锁","awardTitle":"3等奖","sort":6},{"awardId":107,"awardSubtitle":"抽奖1次后解锁","awardTitle":"2等奖","sort":7},{"awardId":108,"awardSubtitle":"抽奖2次后解锁","awardTitle":"1等奖","sort":8}],"info":"成功"}
24-11-19.11:00:09.055 [Thread-20       ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server stop.
24-11-19.11:00:09.079 [xxl-job, executor ExecutorRegistryThread] INFO  ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry-remove success, registryParam:RegistryParam{registryGroup='EXECUTOR', registryKey='update-stock-service', registryValue='http://192.168.136.1:9111/'}, registryResult:ReturnT [code=200, msg=null, content=null]
24-11-19.11:00:09.079 [xxl-job, executor ExecutorRegistryThread] INFO  ExecutorRegistryThread - >>>>>>>>>>> xxl-job, executor registry thread destroy.
24-11-19.11:00:09.079 [SpringApplicationShutdownHook] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server destroy success.
24-11-19.11:00:09.079 [xxl-job, executor JobLogFileCleanThread] INFO  JobLogFileCleanThread  - >>>>>>>>>>> xxl-job, executor JobLogFileCleanThread thread destroy.
24-11-19.11:00:09.079 [xxl-job, executor TriggerCallbackThread] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor callback thread destroy.
24-11-19.11:00:09.079 [Thread-19       ] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor retry callback thread destroy.
24-11-19.11:05:52.402 [main            ] INFO  Application            - Starting Application using Java 1.8.0_281 on catlap with PID 15460 (D:\IdeaWorkSpace\GagaPlus\big-market\big-market-app\target\classes started by Cat in D:\IdeaWorkSpace\GagaPlus\big-market)
24-11-19.11:05:52.405 [main            ] INFO  Application            - The following 1 profile is active: "dev"
24-11-19.11:05:53.669 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-11-19.11:05:53.671 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-11-19.11:05:53.705 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
24-11-19.11:05:54.377 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
24-11-19.11:05:54.378 [main            ] INFO  AprLifecycleListener   - Loaded Apache Tomcat Native library [1.2.33] using APR version [1.7.0].
24-11-19.11:05:54.378 [main            ] INFO  AprLifecycleListener   - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
24-11-19.11:05:54.378 [main            ] INFO  AprLifecycleListener   - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
24-11-19.11:05:54.380 [main            ] INFO  AprLifecycleListener   - OpenSSL successfully initialized [OpenSSL 1.1.1o  3 May 2022]
24-11-19.11:05:54.386 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-11-19.11:05:54.386 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-11-19.11:05:54.387 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
24-11-19.11:05:54.519 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-11-19.11:05:54.520 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1787 ms
24-11-19.11:05:55.052 [main            ] INFO  Version                - Redisson 3.23.4
24-11-19.11:05:55.367 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 192.168.136.129/192.168.136.129:6379
24-11-19.11:05:55.381 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 192.168.136.129/192.168.136.129:6379
24-11-19.11:05:55.494 [main            ] INFO  XxlJobAutoConfig       - >>>>>>>>>>> xxl-job config init.
24-11-19.11:05:56.089 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-11-19.11:05:56.125 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:updateStockHandler, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@5c573229[class cn.cat.trigger.job.UpdateAwardStockJob#exec]
24-11-19.11:05:56.183 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-11-19.11:05:56.192 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
24-11-19.11:05:56.202 [main            ] INFO  Application            - Started Application in 4.631 seconds (JVM running for 5.94)
24-11-19.11:05:56.208 [Thread-17       ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server start success, nettype = class com.xxl.job.core.server.EmbedServer, port = 9111
24-11-19.11:05:56.693 [RMI TCP Connection(2)-192.168.136.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-11-19.11:05:56.693 [RMI TCP Connection(2)-192.168.136.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-11-19.11:05:56.694 [RMI TCP Connection(2)-192.168.136.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
24-11-19.11:05:56.696 [RMI TCP Connection(1)-192.168.136.1] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-19.11:05:57.470 [RMI TCP Connection(1)-192.168.136.1] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-19.11:05:57.496 [RMI TCP Connection(1)-192.168.136.1] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-19.11:05:57.529 [RMI TCP Connection(1)-192.168.136.1] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-19.11:06:02.969 [http-nio-8091-exec-2] INFO  RaffleController       - 随机抽奖开始 strategyId: 100006
24-11-19.11:06:02.991 [http-nio-8091-exec-2] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: system strategyId: 100006 ruleModel: rule_default awardId: 106
24-11-19.11:06:02.991 [http-nio-8091-exec-2] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 system 100006 106 rule_default
24-11-19.11:06:03.001 [http-nio-8091-exec-2] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-19.11:06:03.031 [http-nio-8091-exec-2] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-19.11:06:03.077 [http-nio-8091-exec-2] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:system strategyId:100006 awardId:106
24-11-19.11:06:03.079 [http-nio-8091-exec-2] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
24-11-19.11:06:03.080 [http-nio-8091-exec-2] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:system strategyId:100006 awardId:106
24-11-19.11:06:03.084 [http-nio-8091-exec-2] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:system strategyId:100006 awardId:106
24-11-19.11:06:03.099 [http-nio-8091-exec-2] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0001
24-11-19.11:06:03.099 [http-nio-8091-exec-2] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 system 100006 106 null
24-11-19.11:06:03.179 [http-nio-8091-exec-2] INFO  RaffleController       - 随机抽奖完成 strategyId: 100006 response: {"code":"0000","data":{"awardId":106,"awardIndex":6},"info":"成功"}
24-11-19.11:06:35.923 [Thread-17       ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server stop.
24-11-19.11:06:35.924 [xxl-job, executor ExecutorRegistryThread] INFO  ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry-remove success, registryParam:RegistryParam{registryGroup='EXECUTOR', registryKey='update-stock-service', registryValue='http://192.168.136.1:9111/'}, registryResult:ReturnT [code=200, msg=null, content=null]
24-11-19.11:06:35.924 [xxl-job, executor ExecutorRegistryThread] INFO  ExecutorRegistryThread - >>>>>>>>>>> xxl-job, executor registry thread destroy.
24-11-19.11:06:35.924 [SpringApplicationShutdownHook] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server destroy success.
24-11-19.11:06:35.924 [xxl-job, executor JobLogFileCleanThread] INFO  JobLogFileCleanThread  - >>>>>>>>>>> xxl-job, executor JobLogFileCleanThread thread destroy.
24-11-19.11:06:35.924 [xxl-job, executor TriggerCallbackThread] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor callback thread destroy.
24-11-19.11:06:35.924 [Thread-16       ] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor retry callback thread destroy.
